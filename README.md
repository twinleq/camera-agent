# Camera Agent Firmware - ะะณะตะฝั ะดะปั IP-ะบะฐะผะตั

ะะณะตะฝั ะดะปั ะฒัััะฐะธะฒะฐะฝะธั ะฒ ะฟัะพัะธะฒะบั IP-ะบะฐะผะตั (Dahua, Hikvision, Axis ะธ ะดั.) ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฟะพะดะบะปััะตะฝะธั ะบ ะพะฑะปะฐัะฝะพะผั ัะตัะฒะตัั ะฒะธะดะตะพะฝะฐะฑะปัะดะตะฝะธั.

## ๐ฏ ะะฐะทะฝะฐัะตะฝะธะต

ะะณะตะฝั ัะตัะฐะตั ะบะปััะตะฒัะต ะฟัะพะฑะปะตะผั ะดะพัััะฟะฐ ะบ IP-ะบะฐะผะตัะฐะผ:

- **NAT Traversal** - ะบะฐะผะตัะฐ ัะฐะผะฐ ะฟะพะดะบะปััะฐะตััั ะบ ะพะฑะปะฐัะฝะพะผั ัะตัะฒะตัั
- **ะััะตัะธะทะฐัะธั** - ะฟะพะฒัะพัะฝะฐั ะพัะฟัะฐะฒะบะฐ ะฟะพัะตััะฝะฝัั ะฟะฐะบะตัะพะฒ  
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะตะณะธัััะฐัะธั** - ะบะฐะผะตัะฐ ัะตะณะธัััะธััะตััั ะฝะฐ ัะตัะฒะตัะต ะฐะฒัะพะผะฐัะธัะตัะบะธ
- **ะกัะฐะฑะธะปัะฝะพััั ัะพะตะดะธะฝะตะฝะธั** - ะฟะตัะตะฟะพะดะบะปััะตะฝะธะต ะฟัะธ ัะฑะพัั

## ๐๏ธ ะััะธัะตะบัััะฐ

### ะัะพะฑะปะตะผะฐ (ะพะฑััะฝะฐั ััะตะผะฐ):
```
ะะฑะปะฐัะฝัะน ัะตัะฒะตั โ NAT/Firewall โ IP-ะบะฐะผะตัะฐ (ะฝะตะดะพัััะฟะฝะฐ)
```

### ะะตัะตะฝะธะต (ั Camera Agent):
```
IP-ะบะฐะผะตัะฐ + Agent โ NAT/Firewall โ ะะฑะปะฐัะฝัะน ัะตัะฒะตั (ะฟะพะดะบะปััะตะฝะธะต ะธะฝะธัะธะธััะตั ะบะฐะผะตัะฐ)
```

### ะะตัะฐะปัะฝะฐั ะฐััะธัะตะบัััะฐ:

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   IP-ะะฐะผะตัะฐ     โ    โ   Cloud Server  โ    โ   Web Portal    โ
โ   + Agent       โโโโโบโ   (Watcher)     โโโโโบโ   (Management)  โ
โ   (Dahua/etc)   โ    โ                 โ    โ                 โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
        โ                        โ                        โ
        โ RTSP Stream            โ WebSocket              โ HTTP API
        โผ                        โผ                        โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Local Network โ    โ   Stream Relay  โ    โ   User Interfaceโ
โ   (NAT/Firewall)โ    โ   & Buffer      โ    โ   & Analytics   โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะพะทะผะพะถะฝะพััะธ ะฐะณะตะฝัะฐ

### ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ:
- ๐ **ะะฒัะพะฟะพะดะบะปััะตะฝะธะต** ะบ ะพะฑะปะฐัะฝะพะผั ัะตัะฒะตัั
- ๐ก **RTSP/RTMP ัััะธะผะธะฝะณ** ั ะบะฐะผะตัั ะฝะฐ ัะตัะฒะตั
- ๐ **ะััะตัะธะทะฐัะธั ะธ ะฟะตัะตะพัะฟัะฐะฒะบะฐ** ะฟะพัะตััะฝะฝัั ะฟะฐะบะตัะพะฒ
- ๐ **ะจะธััะพะฒะฐะฝะฝะพะต ัะพะตะดะธะฝะตะฝะธะต** ั ัะตัะฒะตัะพะผ
- ๐ **ะะพะฝะธัะพัะธะฝะณ ัะพััะพัะฝะธั** ะบะฐะผะตัั
- ๐ง **ะะธััะฐะฝัะธะพะฝะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต** ัะตัะตะท ัะตัะฒะตั

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะบะฐะผะตัั:
- **Dahua** (IPC-HFW2449, IPC-HDBW4431 ะธ ะดั.)
- **Hikvision** (DS-2CD2xxx, DS-2CD7xxx ะธ ะดั.)
- **Axis** (M30, M50, P12 ะธ ะดั.)
- **Generic ONVIF** ะบะฐะผะตัั

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
camera-agent-firmware/
โโโ agent/                    # ะัะฝะพะฒะฝะพะน ะบะพะด ะฐะณะตะฝัะฐ
โ   โโโ core/                # ะฏะดัะพ ะฐะณะตะฝัะฐ
โ   โโโ streaming/           # ะะฑัะฐะฑะพัะบะฐ ะฒะธะดะตะพ ะฟะพัะพะบะพะฒ
โ   โโโ networking/          # ะกะตัะตะฒัะต ััะฝะบัะธะธ
โ   โโโ platform/           # ะะปะฐััะพัะผะพ-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โโโ firmware/               # ะะฝััััะผะตะฝัั ะดะปั ัะพะทะดะฐะฝะธั ะฟัะพัะธะฒะบะธ
โโโ cloud-server/          # ะะฑะปะฐัะฝัะน ัะตัะฒะตั ะดะปั ะฟัะธะตะผะฐ ะฐะณะตะฝัะพะฒ
โโโ tools/                 # ะฃัะธะปะธัั ะดะปั ัะฐะทัะฐะฑะพัะบะธ
โโโ docs/                  # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ง ะัััััะน ััะฐัั

### 1. ะกะพะทะดะฐะฝะธะต ะฐะณะตะฝัะฐ ะดะปั ะบะฐะผะตัั

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone <repository-url>
cd camera-agent-firmware

# ะกะฑะพัะบะฐ ะฐะณะตะฝัะฐ ะดะปั ะบะพะฝะบัะตัะฝะพะน ะบะฐะผะตัั
python tools/build_agent.py --camera dahua-2449 --output firmware/
```

### 2. ะะฐะณััะทะบะฐ ะฒ ะบะฐะผะตัั

```bash
# ะกะพะทะดะฐะฝะธะต ะฟัะพัะธะฒะบะธ ั ะฐะณะตะฝัะพะผ
python tools/create_firmware.py --input agent/ --camera dahua-2449

# ะะฐะณััะทะบะฐ ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั ะบะฐะผะตัั ะธะปะธ TFTP
```

### 3. ะะพะดะบะปััะตะฝะธะต ะบ ะพะฑะปะฐัะฝะพะผั ัะตัะฒะตัั

```bash
# ะะฐะฟััะบ ะพะฑะปะฐัะฝะพะณะพ ัะตัะฒะตัะฐ
cd cloud-server
python server.py --config config.yaml
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- **[ะฃััะฐะฝะพะฒะบะฐ ะฐะณะตะฝัะฐ](docs/installation.md)**
- **[ะกะพะทะดะฐะฝะธะต ะฟัะพัะธะฒะบะธ](docs/firmware.md)**
- **[API ะฐะณะตะฝัะฐ](docs/agent-api.md)**
- **[ะะฑะปะฐัะฝัะน ัะตัะฒะตั](docs/cloud-server.md)**

## ๐ ะะฝัะตะณัะฐัะธั

ะะณะตะฝั ัะพะฒะผะตััะธะผ ั:
- **Flussonic Watcher** - ะดะปั ะฟัะธะตะผะฐ ะฟะพัะพะบะพะฒ
- **ะกะพะฑััะฒะตะฝะฝัะต ะพะฑะปะฐัะฝัะต ะฟะปะฐััะพัะผั** - ัะตัะตะท API
- **ONVIF ัะตัะฒะตัั** - ััะฐะฝะดะฐััะฝะฐั ัะพะฒะผะตััะธะผะพััั

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป [LICENSE](LICENSE)

---

**ะกะพะทะดะฐะฝะพ ะฟะพ ะพะฑัะฐะทัั Flussonic Agent ะดะปั ัะพะพะฑัะตััะฒะฐ ะฒะธะดะตะพะฝะฐะฑะปัะดะตะฝะธั**
